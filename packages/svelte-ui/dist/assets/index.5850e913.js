var e=Object.defineProperty,t=Object.defineProperties,n=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,a=(t,n,s)=>n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,c=(e,t)=>{for(var n in t||(t={}))o.call(t,n)&&a(e,n,t[n]);if(s)for(var n of s(t))r.call(t,n)&&a(e,n,t[n]);return e};import{i,S as l,a as u,b as h,s as f,c as p,e as d,d as $,f as m,g,h as v,j as x,l as w,n as b,k as y,o as I,w as D,m as E,p as C,q as V,r as j,t as A,u as S,B as k,v as P,x as Y,y as O,z as X,A as B,C as z,D as R,O as T,E as F,F as q,G as N,H as U,I as J,J as M,K as H,L as W,M as G,N as Q,P as Z,Q as K,R as L,T as _,U as ee,V as te,W as ne,X as se,Y as oe,Z as re,_ as ae,$ as ce,a0 as ie,a1 as le,a2 as ue,a3 as he,a4 as fe,a5 as pe,a6 as de,a7 as $e,a8 as me,a9 as ge}from"./vendor.37d36951.js";function ve(e,t,n,s,o,r){return{x:e,y:t,toX:n,toY:s,color:o,size:r}}function xe({x:e,y:t,toX:n,toY:s,color:o,size:r},a,c){return ve(e+a,t+c,n+a,s+c,o,r)}function we({x:e,y:t,toX:n,toY:s,color:o,size:r},a){return ve(e/a,t/a,n/a,s/a,o,r/a)}function be(e,{x:t,y:n,toX:s,toY:o,color:r,size:a}){e.lineCap="round",e.lineJoin="round",e.fillStyle=e.strokeStyle=r,e.lineWidth=a,e.beginPath(),e.moveTo(t,n),e.lineTo(s,o),e.stroke()}function ye(e){let t,n,s;return p(e[3]),{c(){t=d("canvas"),this.h()},l(e){t=$(e,"CANVAS",{class:!0,width:!0,height:!0}),m(t).forEach(g),this.h()},h(){v(t,"class","canvas svelte-16sjcn8"),v(t,"width",e[1]),v(t,"height",e[2])},m(o,r){x(o,t,r),e[4](t),n||(s=w(window,"resize",e[3]),n=!0)},p(e,[n]){2&n&&v(t,"width",e[1]),4&n&&v(t,"height",e[2])},i:b,o:b,d(o){o&&g(t),e[4](null),n=!1,s()}}}function Ie(e,t,n){let s,o,{canvas:r=null}=t;const a=y("fibers$"),c=y("focusArea$"),i=y("scale$");return I((()=>{a.pipe(D(c,i),E((([e,{coordinates:t},n])=>e.map((e=>we(xe(e,-t.x,-t.y),1/n)))))).subscribe((e=>{const t=r.getContext("2d");e.forEach((e=>{be(t,e)}))}))})),e.$$set=e=>{"canvas"in e&&n(0,r=e.canvas)},[r,s,o,function(){n(2,o=window.innerHeight),n(1,s=window.innerWidth)},function(e){C[e?"unshift":"push"]((()=>{r=e,n(0,r)}))}]}class De extends u{constructor(e){super(),h(this,e,Ie,ye,f,{canvas:0})}}function Ee(e){let t,n,s,o;return{c(){t=d("div"),n=d("canvas"),s=V(),o=d("div"),this.h()},l(e){t=$(e,"DIV",{class:!0,style:!0});var r=m(t);n=$(r,"CANVAS",{width:!0,height:!0,class:!0}),m(n).forEach(g),s=j(r),o=$(r,"DIV",{style:!0,class:!0}),m(o).forEach(g),r.forEach(g),this.h()},h(){v(n,"width",e[1]),v(n,"height",e[2]),v(n,"class","canvas svelte-5dajqk"),A(o,"left",e[3].coordinates.x*e[4]+"px"),A(o,"top",e[3].coordinates.y*e[4]+"px"),A(o,"width",e[3].width*e[4]+"px"),A(o,"height",e[3].height*e[4]+"px"),v(o,"class","focus-area svelte-5dajqk"),v(t,"class","wrapper svelte-5dajqk"),A(t,"width",e[1]*e[4]+"px"),A(t,"height",e[2]*e[4]+"px")},m(r,a){x(r,t,a),S(t,n),e[5](n),S(t,s),S(t,o)},p(e,[s]){2&s&&v(n,"width",e[1]),4&s&&v(n,"height",e[2]),8&s&&A(o,"left",e[3].coordinates.x*e[4]+"px"),8&s&&A(o,"top",e[3].coordinates.y*e[4]+"px"),8&s&&A(o,"width",e[3].width*e[4]+"px"),8&s&&A(o,"height",e[3].height*e[4]+"px"),2&s&&A(t,"width",e[1]*e[4]+"px"),4&s&&A(t,"height",e[2]*e[4]+"px")},i:b,o:b,d(n){n&&g(t),e[5](null)}}}function Ce(e,t,n){let{referenceCanvas:s=null}=t,{width:o}=t,{height:r}=t,{focusArea:a}=t;const c=y("fibers$"),i=y("referenceCanvasScale");return I((()=>{c.subscribe((e=>{const t=s.getContext("2d");e.forEach((e=>{be(t,e)}))}))})),e.$$set=e=>{"referenceCanvas"in e&&n(0,s=e.referenceCanvas),"width"in e&&n(1,o=e.width),"height"in e&&n(2,r=e.height),"focusArea"in e&&n(3,a=e.focusArea)},[s,o,r,a,i,function(e){C[e?"unshift":"push"]((()=>{s=e,n(0,s)}))}]}class Ve extends u{constructor(e){super(),h(this,e,Ce,Ee,f,{referenceCanvas:0,width:1,height:2,focusArea:3})}}function je(e,t){return{id:e,position:t}}const Ae=new k([]),Se=()=>Ae.getValue(),ke=e=>{Ae.next(Se().filter((t=>t.id!==e)))};function Pe(e,t){return e.pipe(Y((e=>O(e,t))))}function Ye(e){const t=Pe(e,"mousedown"),n=Pe(e,"mousemove"),s=O(document,"mouseup");return t.pipe(Y((e=>B(z(e),n).pipe(R(s)))))}function Oe(e){return Pe(e,"wheel").pipe(P((e=>{e.stopPropagation(),e.preventDefault()})),E((({deltaX:e,deltaY:t})=>({x:e,y:t}))),X({x:0,y:0}))}function Xe(e,t){return n=>n<e?e:n>t?t:n}function Be(e,t){return 100*t/e}function ze(e,t){return F([e,t]).pipe(E((([e,t])=>function({width:e,height:t},{width:n,height:s}){if(e>n||t>s){const o=Math.min(Be(e,n),Be(t,s));return{width:e*o/100,height:t*o/100}}return{width:e,height:t}}(e,t))))}function Re(e,t,n){const s=e.slice();return s[7]=t[n],s}function Te(e){let t;return{c(){t=d("div"),this.h()},l(e){t=$(e,"DIV",{class:!0,style:!0}),m(t).forEach(g),this.h()},h(){v(t,"class","user svelte-3es3z3"),A(t,"left",e[7].position.left+"px"),A(t,"top",e[7].position.top+"px")},m(e,n){x(e,t,n)},p(e,n){1&n&&A(t,"left",e[7].position.left+"px"),1&n&&A(t,"top",e[7].position.top+"px")},d(e){e&&g(t)}}}function Fe(e){let t,n=e[0],s=[];for(let o=0;o<n.length;o+=1)s[o]=Te(Re(e,n,o));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=U()},l(e){for(let t=0;t<s.length;t+=1)s[t].l(e);t=U()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);x(e,t,n)},p(e,[o]){if(1&o){let r;for(n=e[0],r=0;r<n.length;r+=1){const a=Re(e,n,r);s[r]?s[r].p(a,o):(s[r]=Te(a),s[r].c(),s[r].m(t.parentNode,t))}for(;r<s.length;r+=1)s[r].d(1);s.length=n.length}},i:b,o:b,d(e){J(s,e),e&&g(t)}}}function qe(e,t,n){let s;const o=y("api"),r=y("focusArea$"),a=y("scale$");(function(e,t=0){return Pe(e,"mousemove").pipe(E((({offsetX:e,offsetY:t})=>({x:e,y:t}))),X({x:t,y:t}))})(y("canvas$")).pipe(D(r,a)).subscribe((([e,{coordinates:t},n])=>{o.updateUser(je("",{left:e.x/n+t.x,top:e.y/n+t.y}))}));const c=F([Ae,r,a]).pipe(E((([e,{coordinates:t},n])=>e.map((e=>je(e.id,{left:(e.position.left-t.x)*n,top:(e.position.top-t.y)*n}))))),X([]));return M(e,c,(e=>n(0,s=e))),I((()=>{o.usersDisconnected$.subscribe((e=>{ke(e)})),o.users$.subscribe((e=>{ke(e.id),(e=>{Ae.next(Se().concat(e))})(e)}))})),[s,c]}class Ne extends u{constructor(e){super(),h(this,e,qe,Fe,f,{})}}function Ue(e){let t,n,s,o,r,a,c,i,l,u;return{c(){t=d("div"),n=d("div"),s=H(e[4]),o=V(),r=d("div"),a=H(e[3]),c=V(),i=d("input"),this.h()},l(l){t=$(l,"DIV",{class:!0});var u=m(t);n=$(u,"DIV",{class:!0});var h=m(n);s=W(h,e[4]),h.forEach(g),o=j(u),r=$(u,"DIV",{class:!0});var f=m(r);a=W(f,e[3]),f.forEach(g),c=j(u),i=$(u,"INPUT",{class:!0,type:!0,min:!0,max:!0,step:!0}),u.forEach(g),this.h()},h(){v(n,"class","title svelte-q2tknd"),v(r,"class","value svelte-q2tknd"),v(i,"class","slider svelte-q2tknd"),v(i,"type","range"),v(i,"min",e[0]),v(i,"max",e[1]),v(i,"step",e[2]),i.value=e[3],v(t,"class","control svelte-q2tknd")},m(h,f){x(h,t,f),S(t,n),S(n,s),S(t,o),S(t,r),S(r,a),S(t,c),S(t,i),l||(u=w(t,"wheel",G(e[5])),l=!0)},p(e,[t]){16&t&&Q(s,e[4]),8&t&&Q(a,e[3]),1&t&&v(i,"min",e[0]),2&t&&v(i,"max",e[1]),4&t&&v(i,"step",e[2]),8&t&&(i.value=e[3])},i:b,o:b,d(e){e&&g(t),l=!1,u()}}}function Je(e,t,n){let{min:s=0}=t,{max:o=100}=t,{step:r=1}=t,{value:a=0}=t,{title:c}=t;const i=Z();return e.$$set=e=>{"min"in e&&n(0,s=e.min),"max"in e&&n(1,o=e.max),"step"in e&&n(2,r=e.step),"value"in e&&n(3,a=e.value),"title"in e&&n(4,c=e.title)},[s,o,r,a,c,e=>{const t=Math.round(K(a-e.deltaY*r,s,o));i("change",t)}]}class Me extends u{constructor(e){super(),h(this,e,Je,Ue,f,{min:0,max:1,step:2,value:3,title:4})}}function He(e,t,n){const s=e.slice();return s[4]=t[n],s}function We(e){let t,n,s;function o(){return e[3](e[4])}return{c(){t=d("div"),this.h()},l(e){t=$(e,"DIV",{class:!0,style:!0}),m(t).forEach(g),this.h()},h(){v(t,"class","color svelte-39241s"),A(t,"background",e[4]),L(t,"active",e[4]===e[0])},m(e,r){x(e,t,r),n||(s=w(t,"click",o),n=!0)},p(n,s){e=n,5&s&&L(t,"active",e[4]===e[0])},d(e){e&&g(t),n=!1,s()}}}function Ge(e){let t,n=e[2],s=[];for(let o=0;o<n.length;o+=1)s[o]=We(He(e,n,o));return{c(){t=d("div");for(let e=0;e<s.length;e+=1)s[e].c();this.h()},l(e){t=$(e,"DIV",{class:!0});var n=m(t);for(let t=0;t<s.length;t+=1)s[t].l(n);n.forEach(g),this.h()},h(){v(t,"class","colors svelte-39241s")},m(e,n){x(e,t,n);for(let o=0;o<s.length;o+=1)s[o].m(t,null)},p(e,[o]){if(7&o){let r;for(n=e[2],r=0;r<n.length;r+=1){const a=He(e,n,r);s[r]?s[r].p(a,o):(s[r]=We(a),s[r].c(),s[r].m(t,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=n.length}},i:b,o:b,d(e){e&&g(t),J(s,e)}}}function Qe(e,t,n){let{value:s}=t;const o=Z();return e.$$set=e=>{"value"in e&&n(0,s=e.value)},[s,o,["#FCDC00","#0CD68A","#FF895B","#0F89FF","#6001D3","#FD346E"],e=>o("change",e)]}class Ze extends u{constructor(e){super(),h(this,e,Qe,Ge,f,{value:0})}}function Ke(e){let t,n,s,o,r,a,c;return n=new Me({props:{title:"SIZE",min:0,max:48,step:1,value:e[0]}}),n.$on("change",e[6]),a=new Ze({props:{value:e[1]}}),a.$on("change",e[7]),{c(){t=d("div"),_(n.$$.fragment),s=V(),o=d("div"),r=V(),_(a.$$.fragment),this.h()},l(e){t=$(e,"DIV",{class:!0});var c=m(t);ee(n.$$.fragment,c),s=j(c),o=$(c,"DIV",{class:!0}),m(o).forEach(g),r=j(c),ee(a.$$.fragment,c),c.forEach(g),this.h()},h(){v(o,"class","spacer svelte-1l5h09l"),v(t,"class","container svelte-1l5h09l")},m(e,i){x(e,t,i),te(n,t,null),S(t,s),S(t,o),S(t,r),te(a,t,null),c=!0},p(e,[t]){const s={};1&t&&(s.value=e[0]),n.$set(s);const o={};2&t&&(o.value=e[1]),a.$set(o)},i(e){c||(ne(n.$$.fragment,e),ne(a.$$.fragment,e),c=!0)},o(e){se(n.$$.fragment,e),se(a.$$.fragment,e),c=!1},d(e){e&&g(t),oe(n),oe(a)}}}function Le(e,t,n){let s,o;const r=y("brushColor");M(e,r,(e=>n(1,o=e)));const a=y("updateBrushColor"),c=y("brushSize");M(e,c,(e=>n(0,s=e)));const i=y("updateBrushSize");return[s,o,r,a,c,i,e=>i(e.detail),e=>a(e.detail)]}class _e extends u{constructor(e){super(),h(this,e,Le,Ke,f,{})}}function et(e){let t,n,s,o,r,a,c,i,l,u;function h(t){e[4](t)}let f={};function p(t){e[5](t)}void 0!==e[0]&&(f.canvas=e[0]),t=new De({props:f}),C.push((()=>ae(t,"canvas",h)));let d={width:tt,height:tt,focusArea:e[2]};return void 0!==e[1]&&(d.referenceCanvas=e[1]),o=new Ve({props:d}),C.push((()=>ae(o,"referenceCanvas",p))),c=new Ne({}),l=new _e({}),{c(){_(t.$$.fragment),s=V(),_(o.$$.fragment),a=V(),_(c.$$.fragment),i=V(),_(l.$$.fragment)},l(e){ee(t.$$.fragment,e),s=j(e),ee(o.$$.fragment,e),a=j(e),ee(c.$$.fragment,e),i=j(e),ee(l.$$.fragment,e)},m(e,n){te(t,e,n),x(e,s,n),te(o,e,n),x(e,a,n),te(c,e,n),x(e,i,n),te(l,e,n),u=!0},p(e,[s]){const a={};!n&&1&s&&(n=!0,a.canvas=e[0],ce((()=>n=!1))),t.$set(a);const c={};4&s&&(c.focusArea=e[2]),!r&&2&s&&(r=!0,c.referenceCanvas=e[1],ce((()=>r=!1))),o.$set(c)},i(e){u||(ne(t.$$.fragment,e),ne(o.$$.fragment,e),ne(c.$$.fragment,e),ne(l.$$.fragment,e),u=!0)},o(e){se(t.$$.fragment,e),se(o.$$.fragment,e),se(c.$$.fragment,e),se(l.$$.fragment,e),u=!1},d(e){oe(t,e),e&&g(s),oe(o,e),e&&g(a),oe(c,e),e&&g(i),oe(l,e)}}}const tt=2e3;function nt(e,t,n){let s,o;const r=y("api");let{roomId:a}=t,c=ue(24),i=ue("#fff"),l={width:100,height:100,coordinates:{x:2,y:2}};const u=new k(ie(i));i.subscribe((e=>u.next(e)));const h=new k(ie(c));c.subscribe((e=>h.next(e)));const f=function(e){const t=new k(e),n=new k([]);return n.pipe(Y((e=>N(...e)))).subscribe(t),{attachSource(e){n.next(n.value.concat(e))},observable$:t}}([]),p=new k(s),d=p.pipe(re(Boolean)),$=new k(o),m=$.pipe(re(Boolean)),g=function(e,t=0){return Ye(e).pipe(E((({offsetX:e,offsetY:t})=>({x:e,y:t}))),X({x:t,y:t}))}(m).pipe(E((({x:e,y:t})=>({x:e/.1,y:t/.1})))),v=function(e,t){const{max:n=100,min:s=0,initial:o=0,speed:r=.5}=null!=t?t:{};return Oe(e).pipe(q(((e,t)=>Xe(s,n)(e+t.y*r)),o),X(o))}(m,{max:100,min:10,speed:.5,initial:20}),x=d.pipe(Y((e=>new T((t=>{const n=new ResizeObserver((function(){const{width:n,height:s}=function(e){const t=e.getBoundingClientRect();return{width:t.width,height:t.height}}(e);t.next(s/n)}));return n.observe(e),()=>{n.unobserve(e)}})))));const w=function(e,t,n,s){const o=ze(F([t,n,s]).pipe(E((([{width:e},t,n])=>{const s=e*n/100;return{width:s,height:s*t}}))),t),r=F([e,o]).pipe(E((([{x:e,y:t},{width:n,height:s}])=>({x:e-n/2,y:t-s/2})))),a=F([t,o,r]).pipe(E((([{width:e,height:t},{width:n,height:s},{x:o,y:r}])=>({x:Xe(0,e-n)(o),y:Xe(0,t-s)(r)}))));return F([a,o]).pipe(E((([e,{width:t,height:n}])=>({coordinates:e,width:t,height:n}))))}(g,new k({width:tt,height:tt}),x,v),b=function(e,t){return F([t,e]).pipe(E((([{width:e},t])=>t.width/e)))}(d,w);!function(e,t,n){F([t,n,e]).subscribe((([e,{data:t,height:n,width:s},o])=>{var r;const a=o.getContext("2d"),c=document.createElement("canvas");c.width=s,c.height=n,null==a||a.save(),null==a||a.setTransform(1,0,0,1,0,0),null==a||a.clearRect(0,0,o.width,o.height),null==(r=c.getContext("2d"))||r.putImageData(t,0,0),null==a||a.scale(e,e),a&&(a.imageSmoothingQuality="high"),null==a||a.drawImage(c,0,0),null==a||a.restore()}))}(d,b,function(e,t){return F([t,e]).pipe(E((([{width:e,height:t,coordinates:n},s])=>{const o=s.getContext("2d");return{data:null==o?void 0:o.getImageData(n.x,n.y,e,t),width:e,height:t}})),re(Boolean))}(m,w)),w.subscribe((e=>{n(2,l=e)}));const I=function(e){return Ye(e).pipe(E((({movementX:e,movementY:t,offsetX:n,offsetY:s})=>({fromX:n,fromY:s,toX:n-e,toY:s-t}))))}(d).pipe(D(u,h),E((([{fromX:e,fromY:t,toX:n,toY:s},o,r])=>[ve(e,t,n,s,o,r)])),D(b,w),E((([e,t,{coordinates:n}])=>e.map((e=>xe(we(e,t),n.x,n.y))))));return f.attachSource(r.fibers$),f.attachSource(I),I.subscribe((e=>{r.draw(e)})),setTimeout((()=>{r.joinRoom(a)}),1e4),le("focusArea$",w),le("scale$",b),le("fibers$",f.observable$),le("referenceCanvasScale",.1),le("brushSize",c),le("brushColor",i),le("updateBrushSize",(e=>{console.warn("val",e),c.set(e)})),le("updateBrushColor",(e=>{i.set(e)})),le("canvas$",d),e.$$set=e=>{"roomId"in e&&n(3,a=e.roomId)},e.$$.update=()=>{1&e.$$.dirty&&p.next(s),2&e.$$.dirty&&$.next(o)},[s,o,l,a,function(e){s=e,n(0,s)},function(e){o=e,n(1,o)}]}class st extends u{constructor(e){super(),h(this,e,nt,et,f,{roomId:3})}}function ot(e){let t,n,s,o,r;const a=e[4].default,c=he(a,e,e[3],null);return{c(){t=d("button"),c&&c.c(),this.h()},l(e){t=$(e,"BUTTON",{class:!0});var n=m(t);c&&c.l(n),n.forEach(g),this.h()},h(){v(t,"class",n=fe(`button ${e[0]} ${e[1]}`)+" svelte-1q4xp2a")},m(n,a){x(n,t,a),c&&c.m(t,null),s=!0,o||(r=w(t,"click",e[2]),o=!0)},p(e,[o]){c&&c.p&&(!s||8&o)&&pe(c,a,e,e[3],s?o:-1,null,null),(!s||3&o&&n!==(n=fe(`button ${e[0]} ${e[1]}`)+" svelte-1q4xp2a"))&&v(t,"class",n)},i(e){s||(ne(c,e),s=!0)},o(e){se(c,e),s=!1},d(e){e&&g(t),c&&c.d(e),o=!1,r()}}}function rt(e,t,n){let{$$slots:s={},$$scope:o}=t,{intent:r}=t,{class:a=""}=t;const c=Z();return e.$$set=e=>{"intent"in e&&n(0,r=e.intent),"class"in e&&n(1,a=e.class),"$$scope"in e&&n(3,o=e.$$scope)},[r,a,()=>c("click"),o,s]}class at extends u{constructor(e){super(),h(this,e,rt,ot,f,{intent:0,class:1})}}function ct(e){let t;return{c(){t=H("Join room")},l(e){t=W(e,"Join room")},m(e,n){x(e,t,n)},d(e){e&&g(t)}}}function it(e){let t;return{c(){t=H("Create a new one")},l(e){t=W(e,"Create a new one")},m(e,n){x(e,t,n)},d(e){e&&g(t)}}}function lt(e){let t,n,s,o,r,a,c,i,l,u,h,f,p,w,b,y,I,D,E,C,A,k,P,Y,O,X,B,z,R,T,F,q,N,U,J;return O=new at({props:{intent:"primary",$$slots:{default:[ct]},$$scope:{ctx:e}}}),O.$on("click",e[0]),T=new at({props:{intent:"secondary",$$slots:{default:[it]},$$scope:{ctx:e}}}),T.$on("click",e[1]),{c(){t=d("div"),n=d("div"),s=d("div"),o=d("div"),r=H("Pixi"),a=V(),c=d("div"),i=H("Hey. "),l=d("br"),u=H("\n        I’m your inspiration."),h=V(),f=d("div"),p=d("div"),w=H("Enter your room code"),b=V(),y=d("div"),I=d("input"),D=V(),E=d("input"),C=V(),A=d("input"),k=V(),P=d("input"),Y=V(),_(O.$$.fragment),X=V(),B=d("div"),z=H("Or"),R=V(),_(T.$$.fragment),F=V(),q=d("div"),N=d("img"),this.h()},l(e){t=$(e,"DIV",{class:!0});var d=m(t);n=$(d,"DIV",{class:!0});var v=m(n);s=$(v,"DIV",{class:!0});var x=m(s);o=$(x,"DIV",{class:!0});var V=m(o);r=W(V,"Pixi"),V.forEach(g),a=j(x),c=$(x,"DIV",{class:!0});var S=m(c);i=W(S,"Hey. "),l=$(S,"BR",{}),u=W(S,"\n        I’m your inspiration."),S.forEach(g),x.forEach(g),h=j(v),f=$(v,"DIV",{class:!0});var U=m(f);p=$(U,"DIV",{class:!0});var J=m(p);w=W(J,"Enter your room code"),J.forEach(g),b=j(U),y=$(U,"DIV",{class:!0});var M=m(y);I=$(M,"INPUT",{class:!0}),D=j(M),E=$(M,"INPUT",{class:!0}),C=j(M),A=$(M,"INPUT",{class:!0}),k=j(M),P=$(M,"INPUT",{class:!0}),M.forEach(g),Y=j(U),ee(O.$$.fragment,U),U.forEach(g),X=j(v),B=$(v,"DIV",{class:!0});var H=m(B);z=W(H,"Or"),H.forEach(g),R=j(v),ee(T.$$.fragment,v),v.forEach(g),F=j(d),q=$(d,"DIV",{class:!0});var G=m(q);N=$(G,"IMG",{alt:!0,class:!0,src:!0}),G.forEach(g),d.forEach(g),this.h()},h(){v(o,"class","logo svelte-1nc36ue"),v(c,"class","title title-text svelte-1nc36ue"),v(s,"class","top svelte-1nc36ue"),v(p,"class","code-title svelte-1nc36ue"),v(I,"class","code-cell svelte-1nc36ue"),v(E,"class","code-cell svelte-1nc36ue"),v(A,"class","code-cell svelte-1nc36ue"),v(P,"class","code-cell svelte-1nc36ue"),v(y,"class","code-cells svelte-1nc36ue"),v(f,"class","code svelte-1nc36ue"),v(B,"class","title-text or svelte-1nc36ue"),v(n,"class","left svelte-1nc36ue"),v(N,"alt","logo"),v(N,"class","image svelte-1nc36ue"),N.src!==(U="../../public/painting.jpg")&&v(N,"src","../../public/painting.jpg"),v(q,"class","right svelte-1nc36ue"),v(t,"class","container svelte-1nc36ue")},m(e,d){x(e,t,d),S(t,n),S(n,s),S(s,o),S(o,r),S(s,a),S(s,c),S(c,i),S(c,l),S(c,u),S(n,h),S(n,f),S(f,p),S(p,w),S(f,b),S(f,y),S(y,I),S(y,D),S(y,E),S(y,C),S(y,A),S(y,k),S(y,P),S(f,Y),te(O,f,null),S(n,X),S(n,B),S(B,z),S(n,R),te(T,n,null),S(t,F),S(t,q),S(q,N),J=!0},p(e,[t]){const n={};16&t&&(n.$$scope={dirty:t,ctx:e}),O.$set(n);const s={};16&t&&(s.$$scope={dirty:t,ctx:e}),T.$set(s)},i(e){J||(ne(O.$$.fragment,e),ne(T.$$.fragment,e),J=!0)},o(e){se(O.$$.fragment,e),se(T.$$.fragment,e),J=!1},d(e){e&&g(t),oe(O),oe(T)}}}function ut(e){const t=y("api"),n=t.roomCreated$.subscribe((e=>{de(`/${e}`)}));return $e((()=>{n.unsubscribe()})),[()=>{de("/AMA9")},()=>{t.createRoom()}]}class ht extends u{constructor(e){super(),h(this,e,ut,lt,f,{})}}function ft(e){let t,n;return t=new st({props:{roomId:e[0].roomId}}),{c(){_(t.$$.fragment)},l(e){ee(t.$$.fragment,e)},m(e,s){te(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.roomId=e[0].roomId),t.$set(s)},i(e){n||(ne(t.$$.fragment,e),n=!0)},o(e){se(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function pt(e){let t,n;return t=new ht({}),{c(){_(t.$$.fragment)},l(e){ee(t.$$.fragment,e)},m(e,s){te(t,e,s),n=!0},i(e){n||(ne(t.$$.fragment,e),n=!0)},o(e){se(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function dt(e){let t,n,s,o;return t=new ge({props:{path:"/:roomId",$$slots:{default:[ft,({params:e})=>({0:e}),({params:e})=>e?1:0]},$$scope:{ctx:e}}}),s=new ge({props:{path:"/",$$slots:{default:[pt]},$$scope:{ctx:e}}}),{c(){_(t.$$.fragment),n=V(),_(s.$$.fragment)},l(e){ee(t.$$.fragment,e),n=j(e),ee(s.$$.fragment,e)},m(e,r){te(t,e,r),x(e,n,r),te(s,e,r),o=!0},p(e,n){const o={};3&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const r={};2&n&&(r.$$scope={dirty:n,ctx:e}),s.$set(r)},i(e){o||(ne(t.$$.fragment,e),ne(s.$$.fragment,e),o=!0)},o(e){se(t.$$.fragment,e),se(s.$$.fragment,e),o=!1},d(e){oe(t,e),e&&g(n),oe(s,e)}}}function $t(e){let t,n;return t=new me({props:{$$slots:{default:[dt]},$$scope:{ctx:e}}}),{c(){_(t.$$.fragment)},l(e){ee(t.$$.fragment,e)},m(e,s){te(t,e,s),n=!0},p(e,[n]){const s={};2&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(ne(t.$$.fragment,e),n=!0)},o(e){se(t.$$.fragment,e),n=!1},d(e){oe(t,e)}}}function mt(e){return le("api",function(){const e=i("ws://localhost:3001"),t=new l,n=new l,s=new l,o=new l;let r="";return e.on("joinedRoom",(e=>{console.warn("fibers",e),t.next(e)})),e.on("fibers",(e=>{console.warn("fibers",e),t.next(e)})),e.on("users",(e=>{n.next(e)})),e.on("roomCreated",(e=>{o.next(e)})),e.on("roomJoined",(e=>{r=e})),e.on("userDisconnected",(e=>{s.next(e)})),{joinRoom:t=>{e.emit("joinRoom",t),console.warn("jobin",t,e.connected)},getFibers:()=>{e.emit("getFibers",r)},createRoom:()=>{e.emit("createRoom")},updateUser:t=>{e.emit("users",c({roomId:r},t))},draw:t=>{e.emit("fibers",{fibers:t,roomId:r})},fibers$:t,users$:n,usersDisconnected$:s,roomCreated$:o}}()),[]}!function(e,s){const o=document.createDocumentFragment(),r=new e((a=c({},s),t(a,n({target:o}))));var a;s.target.replaceWith(o)}(class extends u{constructor(e){super(),h(this,e,mt,$t,f,{})}},{target:document.getElementById("root")});
